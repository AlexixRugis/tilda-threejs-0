<canvas id="c"></canvas>

<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r120/three.min.js"></script>

<script src="https://cdn.jsdelivr.net/gh/mrdoob/three.js@r92/examples/js/controls/OrbitControls.js"></script>

<script>

let scene, camera, render, cube

var mouseX = 0, mouseY = 0;

var windowHalfX = window.innerWidth / 2;

var windowHalfY = window.innerHeight / 2;

function init() {

const canvas = document.querySelector('#c');

scene = new THREE.Scene()

scene.background = new THREE.Color(0x000000)

camera = new THREE.PerspectiveCamera(40, window.innerWidth/window.innerHeight,1,5000)

camera.rotation.y = 15/180*Math.PI

camera.rotation.x = -10/180*Math.PI

camera.position.x = -40

camera.position.y = 150

camera.position.z = -300

hlight = new THREE.AmbientLight(0x404040, 0.1)

scene.add(hlight)

directionalLight = new THREE.DirectionalLight(0xffffff, 1.2)

directionalLight.position.set(20,2,-20)

directionalLight.castShadow = true

scene.add(directionalLight)

renderer = new THREE.WebGLRenderer({canvas, antialias: true})

renderer.setSize(window.innerWidth, window.innerHeight)

controls = new THREE.OrbitControls(camera, renderer.domElement);

document.addEventListener( 'mousemove', onDocumentMouseMove, false );

document.addEventListener( 'touchstart', onDocumentTouchStart, false );

document.addEventListener( 'touchmove', onDocumentTouchMove, false );

window.addEventListener( 'resize', onWindowResize, false );

var geometry = new THREE.BoxGeometry(10, 10, 10);
const material = new THREE.MeshPhongMaterial({color: 0xFF0000});
cube = new THREE.Mesh(geometry, material);
scene.add(cube);

animate();

}

//=======================добавил===========================

function onWindowResize() {

windowHalfX = window.innerWidth / 2;

windowHalfY = window.innerHeight / 2;

camera.aspect = window.innerWidth / window.innerHeight;

camera.updateProjectionMatrix();

renderer.setSize( window.innerWidth, window.innerHeight );

}

//

function onDocumentMouseMove( event ) {

mouseX = event.clientX - windowHalfX;

mouseY = event.clientY - windowHalfY;

}

function onDocumentTouchStart( event ) {

if ( event.touches.length === 1 ) {

event.preventDefault();

mouseX = event.touches[ 0 ].pageX - windowHalfX;

mouseY = event.touches[ 0 ].pageY - windowHalfY;

}

}

function onDocumentTouchMove( event ) {

if ( event.touches.length === 1 ) {

event.preventDefault();

mouseX = event.touches[ 0 ].pageX - windowHalfX;

mouseY = event.touches[ 0 ].pageY - windowHalfY;

}

}

function animate() {

directionalLight.position.copy(camera.position);

camera.lookAt( 0, 0, 0 );

renderer.render(scene,camera);

requestAnimationFrame(animate);

}

init()

</script>